interface IProgram<TResult : int, TArg> {
  main<TArg2>(arg : TArg, arg2 : TArg2) : TResult;
}

final struct Program
  : IProgram<int, char>,
    interface { main_func : int<TArg2>(char, short, TArg2); } {

  main_func : int(char, short) = (c, b) => {
    return Task.run<int>(() => {
      var i = 0,
        j = c,
        mul = <T>(x, y : T) : T => x * y;
      std.cout << mul<double>(i, j) ? "oops" : "Hello World";
      return 0;
    });
  };

  main(arg : char, arg2 : short) : int => {
    return main_func(arg, true);
  }
}